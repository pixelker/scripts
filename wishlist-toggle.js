!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";function t(t,e,r,n){return new(r||(r=Promise))(function(o,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){t.done?o(t.value):new r(function(e){e(t.value)}).then(s,u)}c((n=n.apply(t,e||[])).next())})}function e(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var r=function(){var t=document.cookie.match("(^|;)\\s*wf-csrf\\s*=\\s*([^;]+)");return t?t.pop():null},n=function(t,e){var r=new Headers;return r.append("Content-Type","application/json"),r.append("X-Requested-With","XMLHttpRequest"),r.append("X-Wf-CSRF",t),fetch("/.wf_graphql/apollo",{method:"POST",credentials:"include",headers:r,body:"object"==typeof e?JSON.stringify(e):e})},o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return t(void 0,void 0,void 0,function(){var i,s;return e(this,function(u){switch(u.label){case 0:return(i=r())?[3,2]:[4,t(void 0,void 0,void 0,function(){return e(this,function(t){switch(t.label){case 0:return[4,fetch("/.wf_graphql/csrf",{method:"POST",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"}})];case 1:return t.sent(),[2,r()]}})})];case 1:i=u.sent(),u.label=2;case 2:return[4,n(i,o)];case 3:return[4,u.sent().json()];case 4:if((s=u.sent()).some(function(t){return t.errors}))throw s.map(function(t){return t.errors});return[2,s.map(function(t){return t.data})]}})})};var i=function(){function r(){this.ids=[],this.productsCache=new Map,this.ids=JSON.parse(localStorage.getItem("__wf_wish_list")||"[]"),document.querySelectorAll('[udesly-wishlist="empty-state"]').forEach(function(t){t.setAttribute("style","display:none;")}),document.querySelectorAll('[udesly-wishlist="card"]').forEach(function(t){t.querySelectorAll("[data-wf-sku-bindings]").forEach(function(t){t.removeAttribute("data-wf-sku-bindings")}),t.setAttribute("style","display:none;")}),this.fetchProducts()}return r.prototype.fetchProducts=function(){return t(this,void 0,void 0,function(){var r,n,i,s,u,c,a,l,d;return e(this,function(f){switch(f.label){case 0:for(r=this.getItems(),n=[],i=0,s=r;i<s.length;i++)u=s[i],this.productsCache.has(u)||n.push(u);return n.length?[4,(h=n,t(void 0,void 0,void 0,function(){var t;return e(this,function(e){switch(e.label){case 0:Array.isArray(h)||(h=[h]),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,o({operationName:"GetProductsBySlugs",variables:{slugs:h},query:"\n            query GetProductsBySlugs($slugs: [String]!) {\n                database {\n                    collections {\n                        c_product_ {\n                            items(filter: {f_slug_: {in: $slugs}}) {\n                                id,\n                                f_name_,\n                                f_description_,\n                                f_category_ {\n                                    f_name_,\n                                    f_slug_\n                                },\n                                f_default_sku_7dr {\n                                  f_price_ {\n                                    string\n                                    },\n                                  f_compare_at_price_7dr10dr {\n                                    string\n                                  },\n                                  f_main_image_4dr {\n                                    url\n                                  },\n                                },\n                                f_slug_\n                            }\n                        }\n                    }\n                }\n            }\n            "})];case 2:return[2,e.sent()[0].database.collections.c_product_.items.map(function(t){var e=t.f_default_sku_7dr;return{img:e&&e.f_main_image_4dr?e.f_main_image_4dr.url:"",name:t.f_name_,price:e?e.f_price_.string:"",comparePrice:e&&e.f_compare_at_price_7dr10dr?e.f_compare_at_price_7dr10dr.string:"",slug:t.f_slug_,description:t.f_description_||"",categories:t.f_category_.map(function(t){return{name:t.f_name_.trim(),slug:t.f_slug_.trim()}})||[]}})];case 3:return t=e.sent(),console.error(t),[2,[]];case 4:return[2]}})}))]:[3,2];case 1:for(c=f.sent(),a=0,l=c;a<l.length;a++)d=l[a],this.productsCache.set(d.slug,d);f.label=2;case 2:return(p=this.products).length>0?(document.querySelectorAll('[udesly-wishlist="empty-state"]').forEach(function(t){t.setAttribute("style","display:none;")}),document.querySelectorAll('[udesly-wishlist="card"]').forEach(function(t){t.style.display="",function(t,e){var r="";e.forEach(function(e){e.img&&(t.querySelectorAll('[card="image"]').forEach(function(t){"IMG"==t.tagName?(t.removeAttribute("srcset"),t.setAttribute("src",e.img)):t.setAttribute("style","background-image: url("+e.img+")"),"A"==t.tagName&&t.setAttribute("href","/product/"+e.slug)}),e.price&&t.querySelectorAll('[card="price"]').forEach(function(t){t.textContent=e.price}),e.comparePrice?t.querySelectorAll('[card="compare-price"]').forEach(function(t){t.textContent=e.comparePrice,t.setAttribute("style","")}):t.querySelectorAll('[card="compare-price"]').forEach(function(t){t.setAttribute("style","display:none;")}),e.description&&t.querySelectorAll('[card="description"]').forEach(function(t){t.textContent=e.description}),e.name&&t.querySelectorAll('[card="name"]').forEach(function(t){"A"==t.tagName&&t.setAttribute("href","/product/"+e.slug),t.textContent=e.name}),e.slug&&t.querySelectorAll('[card="link"], [udesly-wishlist="button"]').forEach(function(t){t.setAttribute("href","/product/"+e.slug)}),e.categories&&t.querySelectorAll('[card="categories"]').forEach(function(t){var r="";"LI"==t.parentElement.tagName?(e.categories.forEach(function(e){t.textContent=e.name,t.setAttribute("href","/category/"+e.slug),r+=t.outerHTML}),t.outerHTML=r):e.categories.forEach(function(e){t.textContent=e.name,t.setAttribute("href","/category/"+e.slug)})}),r+=t.outerHTML)}),t.parentElement&&(t.parentElement.innerHTML=r)}(t,p)})):(document.querySelectorAll('[udesly-wishlist="card"]').forEach(function(t){t.setAttribute("style","display:none;")}),document.querySelectorAll('[udesly-wishlist="empty-state"]').forEach(function(t){t.style.display=""})),this.dispatchUpdateButtons(),[2]}var p,h})})},r.prototype.dispatchUpdateButtons=function(){document.body.dispatchEvent(new CustomEvent("udesly-update-wishlist-buttons"))},Object.defineProperty(r.prototype,"products",{get:function(){return Array.from(this.productsCache.values())},enumerable:!0,configurable:!0}),r.prototype.toggleItem=function(t){this.ids.includes(t)?(this.ids=this.ids.filter(function(e){return e!=t}),this.productsCache.delete(t)):(this.ids.unshift(t),this.ids=Array.from(new Set(this.ids))),this.save(),this.fetchProducts()},r.prototype.includesItem=function(t){return!!this.ids.includes(t)},r.prototype.getItems=function(){return this.ids},r.prototype.save=function(){localStorage.setItem("__wf_wish_list",JSON.stringify(this.ids))},r}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),r=e.length;--r>=0&&e.item(r)!==this;);return r>-1});var s=function(){function t(t){this.storage=t,this.initListeners(),this.lottie=window.Webflow.require("lottie")}return t.prototype.updateButtons=function(){var t=this.storage.getItems();document.querySelectorAll('[udesly-wishlist="button"]').forEach(function(e){var r=e.getAttribute("href");r&&(e.setAttribute("udy-product-slug",r.substring(r.lastIndexOf("/")+1)),e.removeAttribute("href"));var n=e.getAttribute("udy-product-slug")||"";t.includes(n)?e.firstChild&&e.firstChild.setAttribute("data-autoplay","1"):e.firstChild&&e.firstChild.setAttribute("data-autoplay","0")}),this.lottie&&(this.lottie.destroy(),this.lottie.ready())},t.prototype.initListeners=function(){var t=this;document.body.addEventListener("udesly-update-wishlist-buttons",function(e){return t.updateButtons()}),document.body.addEventListener("udesly-filter-products-changed",function(e){t.updateButtons()}),document.body.addEventListener("udesly-last-viewed-changed",function(e){t.updateButtons()}),document.body.addEventListener("click",function(e){if(e.target){var r=e.target,n=r.closest("a"),o=null;r.matches("[udy-product-slug]")?o=r.getAttribute("udy-product-slug"):n&&n.matches("[udy-product-slug]")&&(o=n.getAttribute("udy-product-slug")),o&&(t.storage.toggleItem(o),e.preventDefault())}})},t}(),u=new i;!function(){t(this,void 0,void 0,function(){return e(this,function(t){switch(t.label){case 0:return new s(u),[4,u.fetchProducts()];case 1:return t.sent(),[2]}})})}()});
